(this.webpackJsonptdash=this.webpackJsonptdash||[]).push([[0],{98:function(t,e,n){},99:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),r=n(50),s=n.n(r),i=n(7),o=n(2),u=function(){var t=Object(c.useState)(""),e=Object(i.a)(t,2),n=e[0],a=e[1],r=Object(c.useCallback)((function(t){a(t.currentTarget.value)}),[]),s=Object(c.useCallback)((function(t){t.preventDefault(),localStorage.setItem("finnhub_api_token",n),window.location.reload()}),[n]);return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:s,className:"token",children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("a",{href:"https://finnhub.io/",children:"Finnhub"})," API Token"]}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"text",onChange:r})}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"submit",value:"Submit"})})]})})},l=n(8),b=n.n(l),j=n(18),h=n(19),d=n.n(h),f=n(29),p=n.n(f),O=n(30),m=function(t){var e=function(t){var e=Object(c.useState)(""),n=Object(i.a)(e,2),a=n[0],r=n[1],s=Object(c.useState)(0),o=Object(i.a)(s,2),u=o[0],l=o[1],h=Object(c.useState)(0),f=Object(i.a)(h,2),O=f[0],m=f[1],v=Object(c.useState)([]),x=Object(i.a)(v,2),g=x[0],k=x[1],w=Object(c.useCallback)(function(){var e=Object(j.a)(b.a.mark((function e(n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://finnhub.io/api/v1/stock/profile2?symbol=".concat(t,"&token=").concat(n));case 2:c=e.sent,r(c.data.name);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),y=Object(c.useCallback)(function(){var e=Object(j.a)(b.a.mark((function e(n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://finnhub.io/api/v1/quote?symbol=".concat(t,"&token=").concat(n));case 2:c=e.sent,l(c.data.c),m(c.data.c-c.data.o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),S=Object(c.useCallback)(function(){var e=Object(j.a)(b.a.mark((function e(n){var c,a,r,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p()().unix(),a=p()().subtract(6,"months").unix(),e.next=4,d.a.get("https://finnhub.io/api/v1/stock/candle?symbol=".concat(t,"&token=").concat(n,"&resolution=D&from=").concat(a,"&to=").concat(c));case 4:for(r=e.sent,s=[],i=0;i<r.data.c.length;i++)s.push({x:i+1,y:r.data.c[i]});k(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.useEffect)((function(){var e=localStorage.getItem("finnhub_api_token");w(e),y(e),S(e),clearInterval(window["quote_"+t]),window["quote_"+t]=setInterval((function(){y(e)}),6e4),clearInterval(window["candles_"+t]),window["candles_"+t]=setInterval((function(){S(e)}),9e4)}),[t,w,y,S]),{name:a,current:u,change:O,chartData:g}}(t.symbol),n=e.name,a=e.current,r=e.change,s=e.chartData;return Object(o.jsxs)("div",{className:"widget",children:[Object(o.jsxs)("div",{className:"grid-container",children:[Object(o.jsxs)("div",{className:"profile",children:[Object(o.jsx)("h3",{children:t.symbol}),Object(o.jsx)("p",{children:n})]}),Object(o.jsxs)("div",{className:"quote",children:[Object(o.jsx)("h3",{children:a}),Object(o.jsx)("p",{className:r<0?"red":"green",children:Math.round(100*r)/100})]})]}),s.length?Object(o.jsx)("div",{className:"chart",children:Object(o.jsx)(O.b,{width:300,height:80,margin:0,style:{fill:"none"},children:Object(o.jsx)(O.a,{strokeWidth:2,color:s[s.length-1].y-s[0].y<0?"#dc322f":"#859900",data:s})})}):null]})},v=function(){var t;if(!localStorage.getItem("finnhub_api_token"))return Object(o.jsx)(u,{});var e=localStorage.getItem("finnhub_symbols");return e||(localStorage.setItem("finnhub_symbols","AAPL, NVDA"),e="AAPL, NVDA"),Object(o.jsx)("div",{className:"App",children:null===(t=e)||void 0===t?void 0:t.split(",").map((function(t){return Object(o.jsx)(m,{symbol:t.trim()},t.trim())}))})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};n(98);s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root")),x()}},[[99,1,2]]]);
//# sourceMappingURL=main.db226655.chunk.js.map